1999-09-17  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* src/hal_diag.c: Only avoid SERIAL0 if CYG_HAL_USE_ROM_MONITOR_CYGMON
	since we default to assuming Cygmon

	* include/variant.inc (hal_memc_init): Don't make conditional on
	ROM startup - makes sense anyway so that users can change amount
	of memory in system
	(hal_memc_init_dram): Likewise

	* include/var_arch.h (HAL_DIAG_IRQ_CHECK): Give extra return parameter
	rather than relying on this being an expression which evaluates
	
1999-09-16  Hugo Tyson  <hmt@cygnus.co.uk>

	This set of changes with matching ones in arch comes from Mark
	Salter's work to make jmr3904 CygMon talk Ethernet.

	* include/variant.inc: Do not re-initialize and disable all
	interrupts if RAM start, this stops networked CygMon working.
	Likewise don't re-init memory.

	* src/hal_diag.c: Add alternate hal_diag...() routines that talk
	via CygMon so that ethernet debugging works.

	* include/var_arch.h: If CYG_HAL_USE_ROM_MONITOR, export macro for
	polling unknown interrupts in CygMon, HAL_DIAG_IRQ_CHECK.
 	
1999-08-25  Nick Garnett  <nickg@cygnus.co.uk>

	* include/variant.inc: Added clock-speed dependent values for the
	DRAM DWR0 register. Values as suggested by Toshiba in PR20094.
	Added improved work-around for TOE problem suggested by Toshiba
	in PR20233.
	Some code rearranged to eliminate assembler warning messages.
	Some general tidying.

	* include/var_cache.h (HAL_ICACHE_DISABLE): Added jump to aligned
	label after disable to avoid potential race with cache. Suggested
	by Toshiba in PR20091.

1999-06-18  Nick Garnett  <nickg@cygnus.co.uk>

	* include/var_intr.h: Added TX39 specific variant of
	HAL_CLOCK_LATENCY().

	* include/var_cache.h: Added TX39 specific implementation of
	HAL_ICACHE_INVALIDATE_ALL().

1999-06-16  Jesper Skov  <jskov@cygnus.co.uk>
        CR 100804 workaround
	* src/mips_tx39.ld: Suppress .mdebug in the final output.

1999-06-02  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* src/mips_tx39.ld: 
	Add .ctors and .dtors sections as required by new compilers, but
	keep around old SORT(CONSTRUCTORS) for use by old compilers.

1999-05-27  Nick Garnett  <nickg@cygnus.co.uk>

	* src/hal_diag.c (hal_diag_write_char): Tidied away defunct code
	and made use of HAL support for user break detection and delivery.

1999-05-14  Nick Garnett  <nickg@cygnus.co.uk>

	* src/var_misc.c: Added definition of hal_interrupt_level[].

	* include/variant.inc:
	* src/variant.S:
	Added these files. They contain stuff that was previously in the
	jmr3904 platform files.

	* src/PKGconf.mak (COMPILE): Added variant.S

1999-05-13  Nick Garnett  <nickg@cygnus.co.uk>

	Imported whole directory tree into main trunk of repository.
	
1999-05-11  Nick Garnett  <nickg@cygnus.co.uk>

	* include/imp_cache.h
	* include/imp_intr.h
	* include/impl.h
	* src/imp_misc.c: 	
	* include/var_cache.h
	* include/var_intr.h
	* include/variant.inc
	* src/var_misc.c: 
	Changed references to "imp" and "implementation" to "var" and
	"variant" respectively.

	* include/var_arch.h
	File added.
	
	* include/pkgconf/hal_tx39.h: 
	* include/pkgconf/hal_mips_tx39.h:
	File hal_tx39.h renamed to match name synthesized by pkgconf.tcl.

1999-04-22  Nick Garnett  <nickg@cygnus.co.uk>

	* include/imp_cache.h: Move cache enables and disables here from
	hal_cache.h since they are tx39 specific.

1999-04-21  Nick Garnett  <nickg@cygnus.co.uk>

	* src/imp_misc.c: Added this file to contain
	hal_implementation_init().

	* src/PKGconf.mak (COMPILE): Added imp_misc.c.

1999-04-13  Nick Garnett  <nickg@cygnus.co.uk>

	* include/pkgconf/hal_tx39.h: Removed superfluous variant level
	from configuration data.

